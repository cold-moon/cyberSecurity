# ARP协议

内网协议

## 广播与广播域概述

- 广播与广播域
 广播：将广播地址做为目的地址的数据帧
 广播域：网络中能接收到同一个广播所有节点的集合

- MAC地址广播
 广播地址为FF-FF-FF-FF-FF-FF

- IP地址广播
 1. 255.255.255.255
 2. 广播IP地址为IP地址网段的广播地址，如192.168.1.255/24

 ## 什么是ARP协议

 - Address Resolution Protocol,地址解析协议
 - 将一个已知的IP地址解析成MAC地址

 原理：1）发送ARP广播请求
       ARP报文内容：我是10.1.1.1，我的mac是...
                   谁是10.1.1.3，你的mac是？
       2）接收ARP单播应答

 交换机不隔离广播域，路由器隔离广播域
```
windows中的arp命令
 arp -a 查看arp缓存表
 arp -d 清除arp缓存
 arp -s arp绑定
```

## ARP攻击和欺骗的原理是：
通过发送伪造虚假的ARP报文（广播或单播），来实现的攻击和欺骗
如虚假报文中的mac是伪造的不存在的，实现ARP攻击，结果为中断通信/断网
如虚假报文的mac是攻击者自身的mac地址，实现ARP欺骗，结果可以监听、窃取、篡改、控制流量，但不中断通信！

## ARP协议没有验证机制

## ARP攻击者通过发送虚假伪造的arp报文对受害者进行ARP缓存投毒