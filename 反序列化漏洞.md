# 为什么要序列化

百度百科上关于序列化的定义是，将对象的状态信息转换为可以存储或传输的形式（字符串）的过程。在序列化期间，对象将其当前状态写入到临时或持久性存储区。以后，可以通过从存储区中读取或反序列化对象的状态，重新创建该对象。

简单的说，序列化就是把一个对象变成可以传输的字符串，可以以特定的格式在进程之间跨平台、安全的进行通信。

## PHP 中的序列化和反序列化

PHP反序列化也叫PHP对象注入，是一个非常常见的漏洞，这种类型的漏洞虽然有些难以利用，但一旦利用成功就会造成非常危险的后果。漏洞的形成的根本原因是程序没有对用户输入的反序列化字符串进行检测，导致反序列化过程可以被恶意控制，进而造成代码执行、getshell等一系列不可控的后果。反序列化漏洞并不是PHP特有，也存在于Java、Python等语言之中，但其原理基本相通。

PHP中的序列化与反序列化，基本都是围绕serialize()和unserialize()两个函数展开的

discuz ssrf

## 魔术方法

以[__]开头的方法，是PHP中的魔术方法，类中的魔术方法，在特定情况下会被自动调用。主要魔术方法如：

__construct             在创建对象时自动调用
__destruct              在销毁对象时自动调用
__call()                在对象中调用一个不可访问方法时，__call()会被调用
__callStatic()          在静态上下文中调用一个不可访问方法时调用
__get()                 读取不可访问属性的值时，__get()会被调用
__set()                 在给不可访问属性赋值时，__set()会被调用
等等