# NAT
1. Network  Address  Translations
   网络地址转换
2. ipv4地址严重不够用了
    x.x.x.x x0-255
    A  B  C类可以使用   D组播  E科研
3. IP地址分为公网IP和私网IP
公网IP只能在公网上使用
私网IP只能在内网中使用

公网上不允许出现私有IP地址！！！！！！
私网IP可以重复在内网使用

私有IP地址范围：
1）10.0.0.0/8   （10开头的）
2）172.16.0.0/16 - 172.31.0.0/16 
      （172.16开头的一直到172.31开头的）
3）192.168.0.0/16  （192.168开头的）

4. NAT主要实现公私有IP地址的转换，一般是路由器或者防火墙上来完成，不建议在三层交换机上配置！

5. NAT有3大类：
    1）静态NAT：1对1映射，（静态PAT，端口映射技术）
    2）动态NAT
    3）PAT（端口地址转换，Port Address Translations）
          PAT也称为端口复用技术

6. NAT命令：
   1）定义内网端口：
        int  f0/0
            ip  nat  inside
            exit
   2）定义外网端口：
        int  f0/1
            ip  nat  outside
            exit
   3）配置PAT：
定义内部地址池：
acc 1 permit 192.168.0.0 0.0.255.255
做PAT动态映射：
conf t
ip  nat  inside  source  list  1  int  f0/1  overload

  4）配置静态端口转换：
conf  t
ip  nat  inside  source  static  tcp  192.168.1.3  80  100.1.1.2  80


overload(复用)
端口号：0-65535
内到外：转换源IP
外到内：转换目标IP
虚拟公网IP地址 VIP

# RIP动态路由协议

动态路由：基于某种路由协议实现
动态路由特点：减少了管理任务 占用了网络带宽
动态路由协议概述：路由器之间用来交换信息的语言
度量值： 跳数、带宽、负载、时延、可靠性、成本（metric）
OSPF：以带宽、负载、时延、成本作为度量值
收敛： 使所有路由表都达到一致状态的过程
静态路由与动态路由的比较：
  网络中静态路由和动态路由互相补充

按照路由执行的算法分类：
- 距离矢量路由协议
  依据从源网络到目标网络所经过的路由器的个数选择路由
  RIP、IGRP
- 链路状态路由协议
  综合考虑从源网络到目标网络的各条路径的情况选择路由
  OSPF、IS-IS

RIP是距离-矢量路由选择协议
RIP的基本概念
- 定期更新 默认时间30秒
- 邻居
- 广播更新
- 全路由表更新

## 路由器学习到直连路由
 更新周期到30s到时，路由器会向邻居发送路由表
 再过30s，第二个更新周期到了再次发送路由表

- RIP度量值为跳数
  最大跳数为15跳，16跳为不可达
- RIP更新时间
  每隔30s发送路由更新消息，UDP520端口
- RIP路由更新消息
  发送整个路由表信息

## 路由环路

执行水平分割可以阻止路由环路的发生
- 从一个接口学习到路由信息，不再从这个接口发送出去
- 同时也能减少路由更新信息占用的链路带宽资源