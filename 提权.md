# 提权

## 权限提升

### 水平权限提升（越权）

同级权限

### 垂直权限提升

普通用户获得了管理员的权限

web用户直接提权成管理员用户


基于webshell的提权

- IIS的 aspx 木马
- asp    脚本权限比较低
         尝试上传aspx的大马

# windows提权

如果目标使用的是套件搭建的网站
phpstudy
xampp
wampserver

获取WebShell之后就是系统或管理员权限

宝塔
权限？ 安全防御比较高，禁用很多函数，考虑绕过

## 系统漏洞提权

找补丁，找漏洞，找EXP

  win2003
    信息收集
      PR 烤肉提权 MS09-012

可能会遇到的问题
1. 无法执行CMD命令
2. 无法上传提权exp
  目录写权限
    哪些目录必有写权限
      日志 缓存 大马所在目录
3. 在命令行开启3389端口
4. 如何创建windows 用户
 net user nhack 123.com /add
 net localgroup administrators hack /add

 数据库提权
   MSSQL
     xp_cmdshell  执行cmd命令
   前提，获取mssql sa的密码

 mysql提权
   利用mysql执行cmd 命令
   udf
   mof

## 第三方软件提权


反弹shell
  基于webshell 反弹shell
    建立一个持久性的连接

  命令解释器
  正向shell
    我主动连接服务器，服务器开启ssh端口
  反向shell 
    服务器主动连接我，我监听某一个端口
  
短文件名： 六个字符+~

  windows
    nc.exe 
  linux
    利用系统漏洞提权
      内核提权
    第三方软件
      套路比较多
        很难想象
        实战中体会
          dc系列
            靶机渗透
            提权操作

    收集系统信息
      unmae -a
    
    提权辅助脚本
      linux-exploit-suggester
      wget
      curl
    搜索漏洞库
      kali漏洞库
      searchsploit centos 7
      searchsploit -m 35370

      kali 中开启http服务
        python -m SimpleHTTPServer 8080

      运行提权脚本
        *$gcc exploit.c -o exploit -lpthread
        *$./exploit



# linux提权

